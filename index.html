<!DOCTYPE html>
<html lang="en">

<head>
  <title>Login - CRASH DETEKTOR</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- CDN Links -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            montserrat: ['Montserrat', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100..900&display=swap" rel="stylesheet">

  <!-- Shared Style -->
  <link rel="stylesheet" href="style/style.css" />
</head>

<body
  class="flex items-center justify-center min-h-screen text-gray-700 bg-gray-50 dark:bg-[#1d1d1d] dark:text-white transition-colors duration-300">

  <!-- Toggle Theme (Top Right) -->
  <div class="absolute top-5 right-6">
    <i id="dark-mode-toggle"
      class="fa fa-moon text-xl cursor-pointer icon-transition hover:text-gray-900 dark:hover:text-gray-300"></i>
  </div>

  <div
    class="w-full max-w-sm p-8 bg-white dark:bg-[#252525] rounded-3xl shadow-lg border border-gray-100 dark:border-gray-800 transition-all duration-300">

    <div class="text-center mb-8">
      <div
        class="inline-flex items-center justify-center w-14 h-14 rounded-full bg-blue-50 dark:bg-blue-900/20 mb-4 text-blue-500">
        <i class="fas fa-shield-alt text-2xl"></i>
      </div>
      <h1 class="text-xl font-extrabold tracking-widest text-gray-800 dark:text-white uppercase">Crash Detektor</h1>
      <p class="text-xs font-semibold text-gray-400 mt-1 uppercase tracking-wider">Secure Access</p>
    </div>

    <form onsubmit="handleLogin(event)" class="space-y-5">

      <div>
        <label class="block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2">Username</label>
        <div class="relative">
          <input type="text"
            class="w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-[#333] border border-gray-200 dark:border-gray-700 text-sm font-semibold focus:outline-none focus:border-blue-500 transition-colors"
            placeholder="Enter ID" required>
        </div>
      </div>

      <div>
        <label class="block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2">Password</label>
        <div class="relative">
          <input type="password"
            class="w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-[#333] border border-gray-200 dark:border-gray-700 text-sm font-semibold focus:outline-none focus:border-blue-500 transition-colors"
            placeholder="••••••••" required>
        </div>
      </div>

      <button type="submit"
        class="w-full py-3.5 rounded-xl bg-gray-800 dark:bg-white text-white dark:text-black font-bold text-xs uppercase tracking-widest shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300">
        Login System
      </button>

    </form>

    <div class="mt-8 text-center">
      <p class="text-[10px] font-bold text-gray-400">&copy; 2026 IMPACT CRASH ALERT</p>
    </div>
  </div>

  <script>
    // Theme Logic (Shared logic should ideally be in a utility script, but duplicating for simplicity here)
    const toggleButton = document.getElementById('dark-mode-toggle');
    const bodyCurrent = document.documentElement;

    function applyTheme(isDark) {
      if (isDark) {
        bodyCurrent.classList.add('dark');
        document.body.classList.add('dark-mode'); // For SweetAlert custom styles in style.css
        toggleButton.classList.remove('fa-moon');
        toggleButton.classList.add('fa-sun');
      } else {
        bodyCurrent.classList.remove('dark');
        document.body.classList.remove('dark-mode');
        toggleButton.classList.remove('fa-sun');
        toggleButton.classList.add('fa-moon');
      }
    }

    // Initialize Theme
    if (localStorage.getItem('theme') === 'dark') {
      applyTheme(true);
    }

    toggleButton.addEventListener('click', () => {
      const isDark = !bodyCurrent.classList.contains('dark');
      applyTheme(isDark);
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });

    // Login Handler
    function handleLogin(e) {
      e.preventDefault();

      // Use SweetAlert2 with the custom transparent style from style.css
      Swal.fire({
        title: 'AUTHENTICATING',
        text: 'Please wait...',
        timer: 1500,
        timerProgressBar: true,
        showConfirmButton: false,
        background: document.documentElement.classList.contains('dark') ? '#1f1f1f' : '#fff',
        color: document.documentElement.classList.contains('dark') ? '#fff' : '#333',
        didOpen: () => {
          Swal.showLoading();
        }
      }).then(() => {
        // Success Alert
        Swal.fire({
          icon: 'success',
          title: 'ACCESS GRANTED',
          showConfirmButton: false,
          timer: 1000,
          background: document.documentElement.classList.contains('dark') ? '#1f1f1f' : '#fff',
          color: document.documentElement.classList.contains('dark') ? '#fff' : '#333'
        }).then(() => {
          window.location.href = 'dashboard.html';
        });
      });
    }
  </script>
</body>

</html>